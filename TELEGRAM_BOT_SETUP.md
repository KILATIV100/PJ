# ü§ñ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Telegram –ë–æ—Ç–∞ –¥–ª—è –ø—Ä–∏–π–æ–º—É –∑–∞–º–æ–≤–ª–µ–Ω—å

–ü–æ–≤–Ω–∏–π –≥–∞–π–¥ –ø–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—é —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—é —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ Telegram –±–æ—Ç–∞ –¥–ª—è –ø—Ä–∏–π–æ–º—É –∑–∞–º–æ–≤–ª–µ–Ω—å –∑ —Å–∞–π—Ç—É Pro Jet.

---

## üìã –ó–º—ñ—Å—Ç

1. [–û–≥–ª—è–¥ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É](#–æ–≥–ª—è–¥-—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É)
2. [–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–æ—Ç–∞](#—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è-–±–æ—Ç–∞)
3. [–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ Netlify](#–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è-–Ω–∞-netlify)
4. [–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Webhook](#–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è-webhook)
5. [–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è](#—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)
6. [–ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞](#–∫–æ–º–∞–Ω–¥–∏-–±–æ—Ç–∞)
7. [Troubleshooting](#troubleshooting)

---

## üéØ –û–≥–ª—è–¥ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É

### –©–æ –≤–º—ñ—î –±–æ—Ç?

‚úÖ **–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –º–µ–Ω—é** –∑ –∫–Ω–æ–ø–∫–∞–º–∏
‚úÖ **–ü—Ä–∏–π–æ–º –∑–∞–º–æ–≤–ª–µ–Ω—å** –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ Telegram
‚úÖ **–í–∏–±—ñ—Ä –ø–æ—Å–ª—É–≥** (–≥—Ä–∞–≤—ñ—é–≤–∞–Ω–Ω—è, —Ä—ñ–∑–∫–∞, –¥–∏–∑–∞–π–Ω, –º–∞–≥–∞–∑–∏–Ω)
‚úÖ **–ó–±—ñ—Ä –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∏—Ö –¥–∞–Ω–∏—Ö** –∫–ª—ñ—î–Ω—Ç–∞
‚úÖ **–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è** –ø–µ—Ä–µ–¥ –≤—ñ–¥–ø—Ä–∞–≤–∫–æ—é
‚úÖ **–ü–µ—Ä–µ–≥–ª—è–¥ —Å–≤–æ—ó—Ö –∑–∞–º–æ–≤–ª–µ–Ω—å**
‚úÖ **–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ü—ñ–Ω–∏**, –∫–æ–Ω—Ç–∞–∫—Ç–∏, –ø—Ä–æ –∫–æ–º–ø–∞–Ω—ñ—é
‚úÖ **–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞** –ø—Ä–æ –Ω–æ–≤—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
‚úÖ **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ –±–∞–∑—É –¥–∞–Ω–∏—Ö** PostgreSQL (Neon)

### –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á ‚Üí Telegram Bot ‚Üí Netlify Function (Webhook) ‚Üí –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö ‚Üí –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∞–¥–º—ñ–Ω
```

---

## üöÄ –ö–†–û–ö 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–æ—Ç–∞

### 1.1 –í—ñ–¥–∫—Ä–∏–π—Ç–µ BotFather

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å Telegram
2. –ó–Ω–∞–π–¥—ñ—Ç—å `@BotFather`
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å `/start`

### 1.2 –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞

```
/newbot
```

### 1.3 –ù–∞–∑–≤–∞ –±–æ—Ç–∞

BotFather –∑–∞–ø–∏—Ç–∞—î –Ω–∞–∑–≤—É (–º–æ–∂–µ –±—É—Ç–∏ –±—É–¥—å-—è–∫–æ—é):
```
ProJet Orders Bot
```

### 1.4 Username –±–æ—Ç–∞

Username –º–∞—î –∑–∞–∫—ñ–Ω—á—É–≤–∞—Ç–∏—Å—è –Ω–∞ `bot`:
```
projet_orders_bot
```

### 1.5 –ó–±–µ—Ä–µ–∂—ñ—Ç—å —Ç–æ–∫–µ–Ω

BotFather –Ω–∞–¥–∞—Å—Ç—å –≤–∞–º —Ç–æ–∫–µ–Ω, —Å—Ö–æ–∂–∏–π –Ω–∞:
```
1234567890:ABCdefGHIjklMNOpqrsTUVwxyz_123456
```

‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û:** –ó–±–µ—Ä–µ–∂—ñ—Ç—å —Ü–µ–π —Ç–æ–∫–µ–Ω - –≤—ñ–Ω –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –¥–∞–ª—ñ!

### 1.6 –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∫–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

–©–æ–± –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–∞—á–∏–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:

```
/setcommands
```

–ü–æ—Ç—ñ–º –≤–∏–±–µ—Ä—ñ—Ç—å –≤–∞—à–æ–≥–æ –±–æ—Ç–∞ —ñ –≤–≤–µ–¥—ñ—Ç—å:

```
start - üè† –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é
help - üìñ –î–æ–≤—ñ–¥–∫–∞
neworder - üõí –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
myorders - üì¶ –ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
cancel - ‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏ –¥—ñ—é
```

### 1.7 –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –æ–ø–∏—Å (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

```
/setdescription
```

–í–≤–µ–¥—ñ—Ç—å:
```
üöÄ –ë–æ—Ç –¥–ª—è –ø—Ä–∏–π–æ–º—É –∑–∞–º–æ–≤–ª–µ–Ω—å Pro Jet - –ª–∞–∑–µ—Ä–Ω–µ –≥—Ä–∞–≤—ñ—é–≤–∞–Ω–Ω—è —Ç–∞ —Ä—ñ–∑–∫–∞. –°—Ç–≤–æ—Ä—é–π—Ç–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ —Ç–∞ –∑—Ä—É—á–Ω–æ –ø—Ä—è–º–æ –≤ Telegram!
```

### 1.8 –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∞–≤–∞—Ç–∞—Ä (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

```
/setuserpic
```

–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –ª–æ–≥–æ—Ç–∏–ø –≤–∞—à–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó.

---

## üîß –ö–†–û–ö 2: –û—Ç—Ä–∏–º–∞–Ω–Ω—è Chat ID –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –í–∞—Ä—ñ–∞–Ω—Ç –ê: –ß–µ—Ä–µ–∑ @userinfobot (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π)

1. –ó–Ω–∞–π–¥—ñ—Ç—å –±–æ—Ç–∞ `@userinfobot`
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å `/start`
3. –ë–æ—Ç –ø–æ–∫–∞–∂–µ –≤–∞—à ID

### –í–∞—Ä—ñ–∞–Ω—Ç –ë: –ß–µ—Ä–µ–∑ API

1. –ù–∞–ø–∏—à—ñ—Ç—å —â–æ—Å—å –≤–∞—à–æ–º—É –±–æ—Ç—É
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —É –±—Ä–∞—É–∑–µ—Ä—ñ:
```
https://api.telegram.org/bot<YOUR_TOKEN>/getUpdates
```

3. –ó–Ω–∞–π–¥—ñ—Ç—å —É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:
```json
"chat": {
  "id": 123456789
}
```

–¶–µ —ñ —î –≤–∞—à Chat ID.

---

## ‚òÅÔ∏è –ö–†–û–ö 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ Netlify

### 3.1 –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

–Ø–∫—â–æ –≤–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ, –≤–∏–∫–æ–Ω–∞–π—Ç–µ:

```bash
npm install
```

–¶–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `node-telegram-bot-api` —Ç–∞ —ñ–Ω—à—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ.

### 3.2 –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è

–£ Netlify Dashboard:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à —Å–∞–π—Ç
2. `Site settings` ‚Üí `Environment variables`
3. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–º—ñ–Ω–Ω—ñ:

```env
# Telegram Bot
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑_botfather
TELEGRAM_CHAT_ID=–≤–∞—à_chat_id

# Database (–≤–∂–µ –º–∞—î –±—É—Ç–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)
DATABASE_URL=postgresql://...

# URL —Å–∞–π—Ç—É (–≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ Netlify)
URL=https://–≤–∞—à-—Å–∞–π—Ç.netlify.app
```

‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û:** –ü—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏ redeploy —Å–∞–π—Ç—É!

### 3.3 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ —É –≤–∞—Å —î –Ω–∞—Å—Ç—É–ø–Ω—ñ —Ñ–∞–π–ª–∏:

```
netlify/
‚îú‚îÄ‚îÄ functions/
‚îÇ   ‚îú‚îÄ‚îÄ telegram-webhook.js    # –ü—Ä–∏–π–º–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥ Telegram
‚îÇ   ‚îú‚îÄ‚îÄ set-webhook.js          # –í—Å—Ç–∞–Ω–æ–≤–ª—é—î webhook
‚îÇ   ‚îî‚îÄ‚îÄ orders.js               # API –∑–∞–º–æ–≤–ª–µ–Ω—å (–≤–∂–µ —î)
‚îî‚îÄ‚îÄ lib/
    ‚îú‚îÄ‚îÄ bot.js                  # –õ–æ–≥—ñ–∫–∞ –±–æ—Ç–∞
    ‚îú‚îÄ‚îÄ telegram.js             # –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è (–≤–∂–µ —î)
    ‚îî‚îÄ‚îÄ db.js                   # –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (–≤–∂–µ —î)
```

---

## üîó –ö–†–û–ö 4: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Webhook

### 4.1 –ü—ñ—Å–ª—è deploy –Ω–∞ Netlify

–ü—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –≤–∞—à —Å–∞–π—Ç –∑–∞–¥–µ–ø–ª–æ—ó—Ç—å—Å—è –Ω–∞ Netlify, –≤—ñ–¥–∫—Ä–∏–π—Ç–µ —É –±—Ä–∞—É–∑–µ—Ä—ñ:

```
https://–≤–∞—à-—Å–∞–π—Ç.netlify.app/.netlify/functions/set-webhook
```

–í–∏ –ø–æ–±–∞—á–∏—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:

```json
{
  "success": true,
  "message": "Webhook –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ!",
  "webhook_url": "https://–≤–∞—à-—Å–∞–π—Ç.netlify.app/.netlify/functions/telegram-webhook",
  "webhook_info": {
    "url": "https://–≤–∞—à-—Å–∞–π—Ç.netlify.app/.netlify/functions/telegram-webhook",
    "has_custom_certificate": false,
    "pending_update_count": 0
  }
}
```

‚úÖ –Ø–∫—â–æ –≤–∏ –±–∞—á–∏—Ç–µ —Ü–µ - webhook –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ!

### 4.2 –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π —Å–ø–æ—Å—ñ–± (—á–µ—Ä–µ–∑ curl)

–Ø–∫—â–æ –ø–µ—Ä—à–∏–π —Å–ø–æ—Å—ñ–± –Ω–µ –ø—Ä–∞—Ü—é—î:

```bash
curl -X POST "https://api.telegram.org/bot<YOUR_TOKEN>/setWebhook" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://–≤–∞—à-—Å–∞–π—Ç.netlify.app/.netlify/functions/telegram-webhook",
    "allowed_updates": ["message", "callback_query"]
  }'
```

### 4.3 –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ webhook

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å webhook:

```
https://api.telegram.org/bot<YOUR_TOKEN>/getWebhookInfo
```

---

## üß™ –ö–†–û–ö 5: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### 5.1 –ó–Ω–∞–π–¥—ñ—Ç—å –≤–∞—à–æ–≥–æ –±–æ—Ç–∞

1. –£ Telegram –∑–Ω–∞–π–¥—ñ—Ç—å –±–æ—Ç–∞ –∑–∞ username (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `@projet_orders_bot`)
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å `/start`

### 5.2 –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–í–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–±–∞—á–∏—Ç–∏ –≤—ñ—Ç–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –∫–Ω–æ–ø–∫–∞–º–∏:

```
üëã –í—ñ—Ç–∞—é, –Ü–º'—è!

–Ø –±–æ—Ç –∫–æ–º–ø–∞–Ω—ñ—ó Pro Jet - –≤–∞—à–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ —É —Å–≤—ñ—Ç—ñ –ª–∞–∑–µ—Ä–Ω–æ–≥–æ –≥—Ä–∞–≤—ñ—é–≤–∞–Ω–Ω—è —Ç–∞ —Ä—ñ–∑–∫–∏! üéØ

–ú–∏ –º–æ–∂–µ–º–æ –¥–æ–ø–æ–º–æ–≥—Ç–∏ –≤–∞–º –∑:
‚Ä¢ ‚ú® –õ–∞–∑–µ—Ä–Ω–µ –≥—Ä–∞–≤—ñ—é–≤–∞–Ω–Ω—è –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª–∞—Ö
‚Ä¢ ‚úÇÔ∏è –õ–∞–∑–µ—Ä–Ω–∞ —Ä—ñ–∑–∫–∞ –≤–∏—Å–æ–∫–æ—ó —Ç–æ—á–Ω–æ—Å—Ç—ñ
‚Ä¢ üé® –†–æ–∑—Ä–æ–±–∫–∞ –¥–∏–∑–∞–π–Ω—É
‚Ä¢ üõç –ì–æ—Ç–æ–≤—ñ –≤–∏—Ä–æ–±–∏ –∑ –º–∞–≥–∞–∑–∏–Ω—É

–©–æ –±–∞–∂–∞—î—Ç–µ –∑—Ä–æ–±–∏—Ç–∏?

[üõí –ù–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è] [üì¶ –ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è]
[üí∞ –ü—Ä–∞–π—Å-–ª–∏—Å—Ç] [‚ÑπÔ∏è –ü—Ä–æ –Ω–∞—Å]
[üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏]
```

### 5.3 –¢–µ—Å—Ç —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å `üõí –ù–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è`
2. –í–∏–±–µ—Ä—ñ—Ç—å –ø–æ—Å–ª—É–≥—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `‚ú® –õ–∞–∑–µ—Ä–Ω–µ –≥—Ä–∞–≤—ñ—é–≤–∞–Ω–Ω—è`)
3. –í–≤–µ–¥—ñ—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ñ –¥–∞–Ω—ñ:

```
–Ü–º'—è: –Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ
–¢–µ–ª–µ—Ñ–æ–Ω: +380501234567
Email: ivan@example.com
–ú—ñ—Å—Ç–æ: –ö–∏—ó–≤
```

4. –û–ø–∏—à—ñ—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:

```
–ü–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏ –≥—Ä–∞–≤—ñ—é–≤–∞–Ω–Ω—è –Ω–∞ –¥–µ—Ä–µ–≤'—è–Ω—ñ–π –¥–æ—à—Ü—ñ —Ä–æ–∑–º—ñ—Ä–æ–º 30x20 —Å–º.
–¢–µ–∫—Å—Ç: "–ó –ª—é–±–æ–≤'—é –≤—ñ–¥ —Ä–æ–¥–∏–Ω–∏"
–ö—ñ–ª—å–∫—ñ—Å—Ç—å: 1 —à—Ç
```

5. –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

### 5.4 –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

‚úÖ –í–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑ –Ω–æ–º–µ—Ä–æ–º –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
‚úÖ –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç—Ä–∏–º–∞—î —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –Ω–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
‚úÖ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ—Ç—å—Å—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö

---

## üì± –ö–†–û–ö 6: –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å |
|---------|------|
| `/start` | –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é –∑ –∫–Ω–æ–ø–∫–∞–º–∏ |
| `/help` | –î–æ–≤—ñ–¥–∫–∞ –ø–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—é –±–æ—Ç–∞ |
| `/neworder` | –®–≤–∏–¥–∫–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è |
| `/myorders` | –ü–µ—Ä–µ–≥–ª—è–¥ –≤–∞—à–∏—Ö –∑–∞–º–æ–≤–ª–µ–Ω—å |
| `/cancel` | –°–∫–∞—Å—É–≤–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω—É –¥—ñ—é |

### –ö–Ω–æ–ø–∫–∏ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –º–µ–Ω—é

| –ö–Ω–æ–ø–∫–∞ | –î—ñ—è |
|--------|------|
| üõí –ù–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è | –ü–æ—á–∞—Ç–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è |
| üì¶ –ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è | –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é –∑–∞–º–æ–≤–ª–µ–Ω—å |
| üí∞ –ü—Ä–∞–π—Å-–ª–∏—Å—Ç | –ü–æ–∫–∞–∑–∞—Ç–∏ —Ü—ñ–Ω–∏ –Ω–∞ –ø–æ—Å–ª—É–≥–∏ |
| ‚ÑπÔ∏è –ü—Ä–æ –Ω–∞—Å | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ–º–ø–∞–Ω—ñ—é |
| üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏ | –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è |

### –ü–æ—Å–ª—É–≥–∏

| –ü–æ—Å–ª—É–≥–∞ | –û–ø–∏—Å |
|---------|------|
| ‚ú® –õ–∞–∑–µ—Ä–Ω–µ –≥—Ä–∞–≤—ñ—é–≤–∞–Ω–Ω—è | –ì—Ä–∞–≤—ñ—é–≤–∞–Ω–Ω—è –Ω–∞ –¥–µ—Ä–µ–≤—ñ, –º–µ—Ç–∞–ª—ñ, —à–∫—ñ—Ä—ñ, –ø–ª–∞—Å—Ç–∏–∫—É |
| ‚úÇÔ∏è –õ–∞–∑–µ—Ä–Ω–∞ —Ä—ñ–∑–∫–∞ | –†—ñ–∑–∫–∞ —Ñ–∞–Ω–µ—Ä–∏, –∞–∫—Ä–∏–ª—É, –ú–î–§ |
| üé® –î–∏–∑–∞–π–Ω | –†–æ–∑—Ä–æ–±–∫–∞ –º–∞–∫–µ—Ç—ñ–≤ —Ç–∞ –¥–∏–∑–∞–π–Ω—É |
| üõç –ú–∞–≥–∞–∑–∏–Ω —Ç–æ–≤–∞—Ä—ñ–≤ | –ì–æ—Ç–æ–≤—ñ –≤–∏—Ä–æ–±–∏ |

---

## üîß –ö–†–û–ö 7: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç—É

### –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ü—ñ–Ω

–í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª `netlify/lib/bot.js` —Ç–∞ –∑–Ω–∞–π–¥—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é `handlePriceList`:

```javascript
async function handlePriceList(chatId, messageId) {
  const text = `üí∞ <b>–ü—Ä–∞–π—Å-–ª–∏—Å—Ç Pro Jet</b>

<b>‚ú® –õ–∞–∑–µ—Ä–Ω–µ –≥—Ä–∞–≤—ñ—é–≤–∞–Ω–Ω—è:</b>
‚Ä¢ –î–µ—Ä–µ–≤–æ - –≤—ñ–¥ 150 ‚Ç¥
‚Ä¢ –ú–µ—Ç–∞–ª - –≤—ñ–¥ 200 ‚Ç¥
// ... –≤–∞—à—ñ —Ü—ñ–Ω–∏
`;
```

### –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤

–ó–Ω–∞–π–¥—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é `handleContacts`:

```javascript
async function handleContacts(chatId, messageId) {
  const text = `üìû <b>–ö–æ–Ω—Ç–∞–∫—Ç–∏ Pro Jet</b>

<b>–¢–µ–ª–µ—Ñ–æ–Ω:</b> +380 XX XXX XX XX
<b>Email:</b> info@projet.ua
// ... –≤–∞—à—ñ –∫–æ–Ω—Ç–∞–∫—Ç–∏
`;
```

### –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è "–ü—Ä–æ –Ω–∞—Å"

–ó–Ω–∞–π–¥—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é `handleAbout` —Ç–∞ –≤—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ç–µ–∫—Å—Ç.

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î

**–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏:**

1. Webhook –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2. –ù–µ–≤—ñ—Ä–Ω–∏–π —Ç–æ–∫–µ–Ω
3. –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ webhook:
```
https://api.telegram.org/bot<TOKEN>/getWebhookInfo
```

2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Netlify:
   - Netlify Dashboard ‚Üí Functions ‚Üí Logs

3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è:
   - Site settings ‚Üí Environment variables

4. –ó—Ä–æ–±—ñ—Ç—å redeploy —Å–∞–π—Ç—É

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "Webhook response timed out"

**–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü—ñ—è –ø—Ä–∞—Ü—é—î –¥–æ–≤—à–µ 10 —Å–µ–∫—É–Ω–¥

**–†—ñ—à–µ–Ω–Ω—è:**

- –û–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ –∫–æ–¥
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ DATABASE_URL:
```bash
# –£ Netlify Functions logs
console.log('DATABASE_URL:', process.env.DATABASE_URL ? '–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ' : '–Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
```

2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ñ `orders` –≤ –ë–î

3. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –ª–æ–≥–∏ –ø–æ–º–∏–ª–æ–∫ —É Netlify Functions

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ê–¥–º—ñ–Ω –Ω–µ –æ—Ç—Ä–∏–º—É—î —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ TELEGRAM_CHAT_ID —É –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ –Ω–∞–ø–∏—Å–∞–ª–∏ –±–æ—Ç—É (–≤—ñ–Ω –Ω–µ –º–æ–∂–µ –ø–∏—Å–∞—Ç–∏ –ø–µ—Ä—à–∏–º)
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —Ñ—É–Ω–∫—Ü—ñ—ó

### –ü—Ä–æ–±–ª–µ–º–∞ 5: "Error: getaddrinfo ENOTFOUND api.telegram.org"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º–∏ –∑ –º–µ—Ä–µ–∂–µ—é –∞–±–æ DNS

**–†—ñ—à–µ–Ω–Ω—è:**

- –ó–∞—á–µ–∫–∞–π—Ç–µ –∫—ñ–ª—å–∫–∞ —Ö–≤–∏–ª–∏–Ω
- –°–ø—Ä–æ–±—É–π—Ç–µ redeploy
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å Netlify: https://www.netlifystatus.com/

---

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### Netlify Functions Logs

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Netlify Dashboard
2. –í–∞—à —Å–∞–π—Ç ‚Üí Functions
3. –í–∏–±–µ—Ä—ñ—Ç—å `telegram-webhook`
4. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –ª–æ–≥–∏

### Telegram Webhook Info

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å webhook:
```
https://api.telegram.org/bot<TOKEN>/getWebhookInfo
```

–í–∞–∂–ª–∏–≤—ñ –ø–æ–ª—è:
- `pending_update_count` - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –Ω–µ–æ–±—Ä–æ–±–ª–µ–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (–º–∞—î –±—É—Ç–∏ 0)
- `last_error_date` - –¥–∞—Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –ø–æ–º–∏–ª–∫–∏
- `last_error_message` - —Ç–µ–∫—Å—Ç –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –ø–æ–º–∏–ª–∫–∏

---

## üîê –ë–µ–∑–ø–µ–∫–∞

### –í–∞–∂–ª–∏–≤—ñ –ø—Ä–∞–≤–∏–ª–∞:

1. ‚ùå **–ù–Ü–ö–û–õ–ò** –Ω–µ –ø—É–±–ª—ñ–∫—É–π—Ç–µ `TELEGRAM_BOT_TOKEN` —É –∫–æ–¥—ñ
2. ‚ùå **–ù–Ü–ö–û–õ–ò** –Ω–µ –∫–æ–º–º—ñ—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª
3. ‚úÖ –ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω–∏ —Ç—ñ–ª—å–∫–∏ —É –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è
4. ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ HTTPS –¥–ª—è webhook
5. ‚úÖ –í–∞–ª—ñ–¥—É–π—Ç–µ –≤—Å—ñ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ .gitignore

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ `.gitignore` –º—ñ—Å—Ç–∏—Ç—å:

```
.env
.env.local
.env*.local
node_modules/
```

---

## üöÄ –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É

### –Ü–¥–µ—ó –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:

1. **–û–ø–ª–∞—Ç–∞ –æ–Ω–ª–∞–π–Ω**
   - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ LiqPay/Fondy —á–µ—Ä–µ–∑ Telegram Bot Payments API

2. **–í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É**
   - –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç—ñ–≤ –ø—Ä–æ –∑–º—ñ–Ω—É —Å—Ç–∞—Ç—É—Å—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

3. **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤**
   - –ü—Ä–∏–π–æ–º –∑–æ–±—Ä–∞–∂–µ–Ω—å —Ç–∞ —Ñ–∞–π–ª—ñ–≤ –¥–ª—è –≥—Ä–∞–≤—ñ—é–≤–∞–Ω–Ω—è

4. **–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å**
   - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏ —á–µ—Ä–µ–∑ –±–æ—Ç (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞)

5. **–ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω—ñ—Å—Ç—å**
   - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó —Ç–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤

6. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
   - –ó–≤—ñ—Ç–∏ –ø–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º —Ç–∞ –ø—Ä–∏–±—É—Ç–∫—É

---

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

### –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:

- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Netlify Functions](https://docs.netlify.com/functions/overview/)
- [Neon PostgreSQL](https://neon.tech/docs)

### –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Netlify Functions
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Telegram webhook info
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è
4. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –∫–æ–¥ –ø–æ–º–∏–ª–∫–∏

---

## ‚úÖ –ß–µ–∫–ª—ñ—Å—Ç –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
- [ ] –û—Ç—Ä–∏–º–∞–Ω–æ BOT_TOKEN
- [ ] –û—Ç—Ä–∏–º–∞–Ω–æ CHAT_ID –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- [ ] –î–æ–¥–∞–Ω–æ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è —É Netlify
- [ ] –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ webhook
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ –∫–æ–º–∞–Ω–¥—É /start
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- [ ] –ê–¥–º—ñ–Ω –æ—Ç—Ä–∏–º–∞–≤ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
- [ ] –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑–±–µ—Ä–µ–≥–ª–æ—Å—è –≤ –ë–î

---

**–í–µ—Ä—Å—ñ—è:** 1.0.0
**–î–∞—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 03.12.2024

üéâ –ì–æ—Ç–æ–≤–æ! –í–∞—à Telegram –±–æ—Ç –≥–æ—Ç–æ–≤–∏–π –ø—Ä–∏–π–º–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è!
